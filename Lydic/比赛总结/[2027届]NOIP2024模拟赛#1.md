[比赛链接 ](http://172.20.0.170/d/jzyz/contest/66aa3b2fca3c42973554c142)

太废物了。

老师：有亿点难。

我：分数=23+10+0+0=33

提交记录：
![image](https://img2024.cnblogs.com/blog/3059767/202408/3059767-20240801141909350-779586390.png)

### 概述

- 8:00 扫题
- 9:15 T1暴力写完
- 10:10 T2暴力写完
- 11:35 T1性质写完
- 11:50 T2有分了
- 12:00比赛结束

### T1

暴力也不好写，写了一个多小时。

先建立几个数组，来记录每个左括号所对应的右括号的位置和逗号的位置，然后递归，传一个区间，代表要处理的区间，然后对逗号两边分类讨论，分别计算。

暴力写完以后，手写一堆数据，发现对于特殊性质，答案只和从头开始的连续的 `min` 和 `max` 的个数有关，然后迅速过掉。

继续想，考虑建立表达式树，递归合并答案，但是不会合并。

对于正解，每个节点存一个区间端点，每次合并判断可以选择的数字的范围即可。

### T2

写了性质，但是爆蛋了。

容易发现可以通过最短路来判断每个村是否可以通过行走吃掉其他的，跑的时候存储一个 $sum$ 来记录当前权值即可。

这样有了 20pts。

对于正解，考虑 Kruskal 重构树，对每个村存储它的最近的父亲节点，然后 dfs，跑出来每个节点能吃掉其它从而达到的最大人数，然后类似动态规划的判断，如果它的父亲节点可以统一并且他能达到的最大值大于父亲节点权值，那么它就可以统一。

然后跑两边 dfs 就行了。

### T3

写了5pts。

看见概率期望，瞬间凉半截。

想了一会还是不太会。但是发现所有相同的性质很容易写，推了一会式子，感觉挺对，就交了，但是最后一分没拿。

### T4

写了10pts，但是挂了？？？

对于T4，发现类似归并排序，想直接模拟，但是没有一档部分分可以拿到。

然后发现一个的性质，优化一下但是没啥用，然后就假了。

对于正解，好像是什么权值平衡树或者树状数组上面二分，都不会，反正是数据结构，还是菜。

### 总结

类似这种的比赛难度远高于正常 NOIP，但是罚坐的时候能更好地思考性质。
